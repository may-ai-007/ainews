(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[465],{6435:function(e,t,r){"use strict";r.d(t,{F:function(){return c},f:function(){return d}});var n=r(2265);let a=["light","dark"],l="(prefers-color-scheme: dark)",o="undefined"==typeof window,s=(0,n.createContext)(void 0),i={setTheme:e=>{},themes:[]},c=()=>{var e;return null!==(e=(0,n.useContext)(s))&&void 0!==e?e:i},d=e=>(0,n.useContext)(s)?n.createElement(n.Fragment,null,e.children):n.createElement(m,e),u=["light","dark"],m=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:o=!0,storageKey:i="theme",themes:c=u,defaultTheme:d=r?"system":"light",attribute:m="data-theme",value:x,children:b,nonce:w})=>{let[k,y]=(0,n.useState)(()=>f(i,d)),[p,E]=(0,n.useState)(()=>f(i)),j=x?Object.values(x):c,S=(0,n.useCallback)(e=>{let n=e;if(!n)return;"system"===e&&r&&(n=v());let l=x?x[n]:n,s=t?g():null,i=document.documentElement;if("class"===m?(i.classList.remove(...j),l&&i.classList.add(l)):l?i.setAttribute(m,l):i.removeAttribute(m),o){let e=a.includes(d)?d:null,t=a.includes(n)?n:e;i.style.colorScheme=t}null==s||s()},[]),$=(0,n.useCallback)(e=>{y(e);try{localStorage.setItem(i,e)}catch(e){}},[e]),C=(0,n.useCallback)(t=>{E(v(t)),"system"===k&&r&&!e&&S("system")},[k,e]);(0,n.useEffect)(()=>{let e=window.matchMedia(l);return e.addListener(C),C(e),()=>e.removeListener(C)},[C]),(0,n.useEffect)(()=>{let e=e=>{e.key===i&&$(e.newValue||d)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[$]),(0,n.useEffect)(()=>{S(null!=e?e:k)},[e,k]);let L=(0,n.useMemo)(()=>({theme:k,setTheme:$,forcedTheme:e,resolvedTheme:"system"===k?p:k,themes:r?[...c,"system"]:c,systemTheme:r?p:void 0}),[k,$,e,p,r,c]);return n.createElement(s.Provider,{value:L},n.createElement(h,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:o,storageKey:i,themes:c,defaultTheme:d,attribute:m,value:x,children:b,attrs:j,nonce:w}),b)},h=(0,n.memo)(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:o,enableColorScheme:s,defaultTheme:i,value:c,attrs:d,nonce:u})=>{let m="system"===i,h="class"===r?`var d=document.documentElement,c=d.classList;c.remove(${d.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?a.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(e,t=!1,n=!0)=>{let l=c?c[e]:e,o=t?e+"|| ''":`'${l}'`,i="";return s&&n&&!t&&a.includes(e)&&(i+=`d.style.colorScheme = '${e}';`),"class"===r?i+=t||l?`c.add(${o})`:"null":l&&(i+=`d[s](n,${o})`),i},v=e?`!function(){${h}${g(e)}}()`:o?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${m})){var t='${l}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${c?`var x=${JSON.stringify(c)};`:""}${g(c?"x[e]":"e",!0)}}${m?"":"else{"+g(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${c?`var x=${JSON.stringify(c)};`:""}${g(c?"x[e]":"e",!0)}}else{${g(i,!1,!1)};}${f}}catch(t){}}();`;return n.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:v}})},()=>!0),f=(e,t)=>{let r;if(!o){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},g=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},v=e=>(e||(e=window.matchMedia(l)),e.matches?"dark":"light")},6190:function(e,t,r){Promise.resolve().then(r.bind(r,8518))},8518:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(7437),a=r(2265),l=r(4033),o=r(3824),s=r(38),i=r(1396),c=r.n(i),d=r(3753);function u(){let e=(0,l.useSearchParams)(),t=e.get("url"),r=e.get("title")||"文章内容",[i,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(!0),[f,g]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!t){g("未提供URL参数"),h(!1);return}(async()=>{try{let e=await fetch("/api/proxy?url=".concat(encodeURIComponent(t)));if(!e.ok)throw Error("请求失败: ".concat(e.status));let r=await e.text();u(r)}catch(e){console.error("获取内容错误:",e),g("无法获取文章内容")}finally{h(!1)}})()},[t]),(0,n.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,n.jsx)(o.Z,{}),(0,n.jsx)("main",{className:"flex-grow",children:(0,n.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"mb-6 flex items-center",children:[(0,n.jsx)(c(),{href:"javascript:history.back()",className:"mr-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,n.jsx)(d.Z,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),(0,n.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:r})]}),m&&(0,n.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),f&&(0,n.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg border border-red-100 dark:border-red-800 text-center",children:[(0,n.jsx)("p",{className:"text-red-700 dark:text-red-300",children:f}),t&&(0,n.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block text-blue-600 hover:underline dark:text-blue-400",children:"直接访问原网站"})]}),i&&!m&&!f&&(0,n.jsxs)("div",{className:"mt-8",children:[(0,n.jsx)("div",{className:"prose prose-lg max-w-none dark:prose-invert",children:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:(e=>{let t=new DOMParser().parseFromString(e,"text/html"),r=t.querySelector("article")||t.querySelector("main")||t.querySelector(".content")||t.querySelector(".article")||t.body;return r?r.innerHTML:e})(i)}})}),(0,n.jsxs)("div",{className:"mt-10 pt-6 border-t border-gray-200 dark:border-gray-800 text-center",children:[(0,n.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"这是通过阅读视图展示的内容，可能与原始页面有所不同"}),t&&(0,n.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-block text-blue-600 hover:underline dark:text-blue-400",children:"访问原始页面"})]})]})]})}),(0,n.jsx)(s.Z,{})]})}},3753:function(e,t,r){"use strict";var n=r(2265);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});t.Z=a},9874:function(e,t,r){"use strict";var n=r(2265);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))});t.Z=a},4052:function(e,t,r){"use strict";var n=r(2265);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m10.5 21 5.25-11.25L21 21m-9-3h7.5M3 5.621a48.474 48.474 0 0 1 6-.371m0 0c1.12 0 2.233.038 3.334.114M9 5.25V3m3.334 2.364C11.176 10.658 7.69 15.08 3 17.502m9.334-12.138c.896.061 1.785.147 2.666.257m-4.589 8.495a18.023 18.023 0 0 1-3.827-5.802"}))});t.Z=a},4020:function(e,t,r){"use strict";var n=r(2265);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});t.Z=a},4271:function(e,t,r){"use strict";var n=r(2265);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))});t.Z=a},7323:function(e,t,r){"use strict";var n=r(2265);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))});t.Z=a},6689:function(e,t,r){"use strict";var n=r(2265);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});t.Z=a}},function(e){e.O(0,[569,508,971,938,744],function(){return e(e.s=6190)}),_N_E=e.O()}]);